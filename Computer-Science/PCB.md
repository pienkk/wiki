---
title: PCB (Process Control Block)
description: 
published: false
date: 2025-02-03T13:37:14.220Z
tags: cs
editor: markdown
dateCreated: 2025-02-03T13:37:14.220Z
---

# PCB (Process Control Block)
**Process Control Block** (이하 PCB)  는 운영 체제가 각 프로세스의 실행 상태와 관련된 모든 정보를 관리하기 위해 사용하는 데이터 구조이다.
프로세스 관리, 스케줄링, 컨텍스트 스위칭, 자원 할당 등 다양한 운영 체제 기능의 기초가 되며 다중 프로세스 환경에서 각 프로세스의 상태를 추적하고 제어하는 역할을 수행한다.

## 역할

### 프로세스 상태 관리
- 상태 추적: 운영 체제는 PCB를 통해 각 프로세스가 실행 중, 준비 상태, 대기 상태, 종료 상태 등 어느 단계에 있는지를 파악한다.
- 상태 전이: PCB에 기록된 정보는 프로세스가 시스템 호출, 인터럽트, I/O 요청 등으로 인해 상태가 변화할 때 업데이트된다.

### 컨텍스트 스위칭
- 현재 상태 저장: CPU가 다른 프로세스의 작업을 수행하기 전에 현재 실행 중인 프로세스의 CPU 레지스터, 프로그램 카운터, 플래그 등 현재 상태를 PCB에 저장한다.
- 상태 복원: 다시 실행될 프로세스의 PCB에서 이전 상태 정보를 복원하여, 중단된 시점부터 정확하게 실행을 재개할 수 있도록 한다.
- 오버헤드 관리: 컨텍스트 스위칭은 시스템 자원을 사용한다. PCB의 효율적인 관리와 저장 구조는 시스템 성능에 직접적인 영향을 미친다.

### 자원 및 스케줄링 관리
- 자원 할당 기록: 파일, 메모리, I/O 장치 등 프로세스에 할당된 자원의 정보를 PCB에 기록하여, 필요 시 해제하거나 재할당할 수 있다.
- 스케줄링 정보: 각 프로세스의 우선순위, 예상 실행 시간, 사용한 CPU 시간 등이 PCB에 저장되어, 운영 체제가 효율적으로 프로세스 스케줄링을 할 수 있도록 돕는다.


## 주요 구성 요소
### 프로세스 식별 및 상태 정보
- 프로세스 식별자 (PID): 각 프로세스는 고유한 식별 번호를 가지며, 이는 프로세스 간 구별 및 관리에 필수적입니다.
- 프로세스 상태: 실행(Running), 준비(Ready), 대기(Blocked), 종료(Terminated) 등 프로세스의 현재 상태를 표시합니다.
- 우선순위: 스케줄링 알고리즘에 의해 프로세스가 실행되는 순서를 결정하는데 사용되는 우선순위 값입니다.

2.2 CPU 상태 정보
프로그램 카운터 (PC): 프로세스가 다음에 실행할 명령어의 주소를 가리킵니다.
레지스터 집합: 산술 논리 연산, 주소 계산 등 현재 프로세스의 작업을 수행하던 중의 CPU 레지스터 상태(일반 레지스터, 인덱스 레지스터, 플래그 레지스터 등)를 저장합니다.
스택 포인터 및 기타 상태 변수: 함수 호출, 지역 변수, 반환 주소 등을 관리하기 위한 스택 포인터 등의 정보가 포함됩니다.
2.3 메모리 관리 정보
주소 공간 정보: 프로세스에 할당된 가상 주소 공간, 물리 메모리 매핑 정보가 포함됩니다.
페이지 테이블 및 세그먼트 테이블 포인터: 가상 메모리 관리 기법을 사용하는 시스템에서는 프로세스 별 메모리 관리 정보를 담은 테이블의 주소를 기록합니다.
메모리 보호 정보: 접근 권한, 메모리 영역의 크기 및 속성 등이 명시되어, 프로세스 간의 메모리 충돌을 방지합니다.
2.4 입출력 및 자원 관리 정보
파일 디스크립터 테이블: 프로세스가 열어 놓은 파일 및 입출력 장치에 대한 정보를 관리합니다.
자원 할당 리스트: 프로세스가 현재 점유 중인 자원(예: 프린터, 네트워크 소켓 등)과 관련된 정보를 포함합니다.
I/O 상태 정보: 진행 중인 I/O 작업 및 대기 중인 요청에 대한 상태가 기록됩니다.
2.5 스케줄링 및 계정 정보
CPU 사용 시간: 프로세스가 사용한 누적 CPU 시간 및 최근 사용 패턴을 기록합니다.
스케줄링 큐 정보: 프로세스가 위치한 스케줄링 큐(예: 준비 큐, 대기 큐 등)에 대한 포인터 또는 링크 정보가 포함됩니다.
계정 정보: 프로세스 소유자, 그룹, 우선순위, 비용 및 기타 관리 정보를 포함할 수 있습니다.

3. PCB의 동작 과정
3.1 프로세스 생성 및 초기화
PCB 할당: 새로운 프로세스 생성 시, 운영 체제는 해당 프로세스의 PCB를 메모리에 할당합니다.
초기 값 설정: 프로세스 시작 시 필요한 초기 값(프로세스 상태, PID, 초기 레지스터 값 등)을 설정합니다.
자원 요청: 초기화 과정에서 프로세스에 필요한 자원(메모리, I/O 장치 등)을 할당하고, 관련 정보를 PCB에 기록합니다.
3.2 컨텍스트 스위칭
현재 프로세스 상태 저장: 인터럽트나 스케줄러 호출 시, 현재 실행 중인 프로세스의 모든 CPU 상태와 관련 정보를 PCB에 저장합니다.
새 프로세스 상태 복원: 스케줄러가 선택한 다음 프로세스의 PCB에서 저장된 정보를 읽어, CPU 상태를 복원한 후 해당 프로세스의 실행을 재개합니다.
캐시 및 기타 하드웨어 상태 동기화: 필요 시, CPU 캐시, TLB(Translation Lookaside Buffer) 등 하드웨어 관련 상태도 업데이트되어야 합니다.
3.3 프로세스 종료
자원 해제: 프로세스 종료 시, PCB에 기록된 자원 할당 정보를 참고하여 할당된 모든 자원을 해제합니다.
PCB 삭제: 프로세스가 완전히 종료되면, 운영 체제는 해당 PCB를 시스템 자원으로부터 회수합니다.
프로세스 종료 로그: 종료 원인, 사용 시간 등 기록을 남겨, 시스템 모니터링 및 디버깅에 활용합니다.
4. PCB의 중요성 및 고려 사항
4.1 시스템 안정성과 효율성
안정성 확보: PCB에 저장된 정보는 프로세스 복구, 오류 진단 및 디버깅에 중요한 역할을 합니다. 예를 들어, 비정상 종료나 예외 상황 발생 시, PCB에 저장된 데이터를 활용하여 문제를 분석할 수 있습니다.
효율적 스케줄링: 정확하고 신속한 PCB 업데이트는 스케줄러가 적절한 프로세스를 선택하고 전환하는 데 있어 중요한 역할을 합니다. 이는 시스템 전체의 성능에 큰 영향을 미칩니다.
4.2 자원 관리의 최적화
메모리 관리: PCB에 포함된 메모리 관리 정보는 가상 메모리 기법, 페이징, 세그멘테이션 등의 메모리 보호 및 관리에 필수적입니다.
자원 할당의 정확성: PCB는 프로세스가 점유한 모든 자원에 대한 정보를 저장하므로, 이를 바탕으로 자원 누수나 중복 할당을 방지할 수 있습니다.
4.3 확장성과 모듈화
운영 체제 설계: PCB 구조는 운영 체제의 모듈화 및 확장성을 높이는 데 기여합니다. 새로운 기능 추가나 하드웨어 지원 시, PCB에 필요한 필드나 기능을 추가함으로써 유연하게 대응할 수 있습니다.
보안 강화: PCB에 기록되는 계정 정보 및 자원 접근 정보는 운영 체제의 보안 메커니즘과 연계되어, 권한 없는 접근을 막고 프로세스 간 격리를 유지하는 데 기여합니다.
5. 결론
PCB(Process Control Block)는 운영 체제 내에서 각 프로세스의 실행 상태, 자원 할당, 메모리 관리 및 스케줄링 정보를 체계적으로 저장하는 핵심 데이터 구조입니다. 이를 통해 운영 체제는 프로세스 생성, 실행, 중단, 종료 등의 과정을 효율적으로 관리할 수 있으며, 시스템의 안정성과 성능을 높이는 데 필수적인 역할을 합니다. PCB의 설계와 구현은 운영 체제의 전반적인 아키텍처와 밀접하게 연관되어 있으며, 다양한 시스템 요구사항을 충족시키기 위해 지속적으로 발전하고 있습니다.

이와 같이 PCB에 관한 상세한 정보를 정리하면, 위키 백과사전이나 운영 체제 관련 문서 작성 시 독자들이 PCB의 개념과 동작 원리를 보다 명확하게 이해할 수 있습니다.